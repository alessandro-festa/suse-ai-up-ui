(("undefined"!==typeof self?self:this)["webpackChunksuseai_rancher_ext_0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunksuseai_rancher_ext_0_1_0"]||[]).push([[38],{2936:function(e,t,a){"use strict";a.r(t);var r=a(6758),o=a.n(r),s=a(935),n=a.n(s),i=n()(o());i.push([e.id,".pod-card[data-v-a135103e]{border:1px solid var(--border);border-radius:8px;background:var(--card-bg);cursor:pointer;transition:all .2s ease;overflow:hidden}.pod-card[data-v-a135103e]:hover{border-color:var(--primary);box-shadow:0 2px 8px rgba(0,0,0,.1)}.card-header[data-v-a135103e]{display:flex;align-items:center;padding:16px;background:var(--accent-bg,rgba(0,123,255,.05));border-bottom:1px solid var(--border-light,rgba(0,0,0,.1))}.pod-icon[data-v-a135103e]{font-size:24px;color:var(--primary);margin-right:12px;min-width:24px}.pod-info h4[data-v-a135103e]{margin:0 0 4px 0;font-size:16px;font-weight:600;color:var(--body-text)}.pod-info p[data-v-a135103e]{margin:0;font-size:14px;color:var(--muted)}.pod-status[data-v-a135103e]{margin-left:auto}.pod-status span[data-v-a135103e]{padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500}.status-success[data-v-a135103e]{background:var(--success-light,#d4edda);color:var(--success,#28a745)}.status-warning[data-v-a135103e]{background:var(--warning-light,#fff3cd);color:var(--warning,#856404)}.status-error[data-v-a135103e]{background:var(--error-light,#f8d7da);color:var(--error,#dc3545)}.status-unknown[data-v-a135103e]{background:var(--muted-bg,#f8f9fa);color:var(--muted,#6c757d)}.card-details[data-v-a135103e]{padding:16px}.detail-row[data-v-a135103e]{margin-bottom:8px;font-size:14px;display:flex;justify-content:space-between}.detail-row strong[data-v-a135103e]{color:var(--body-text);font-weight:500}.detail-row[data-v-a135103e]:last-child{margin-bottom:0}.card-actions[data-v-a135103e]{padding:16px;border-top:1px solid var(--border-light,rgba(0,0,0,.1));text-align:center}.btn-primary[data-v-a135103e]{background:var(--primary);color:#fff;border:1px solid var(--primary);border-radius:4px;padding:8px 16px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;width:100%}.btn-primary[data-v-a135103e]:hover{background:var(--primary-hover,darken(var(--primary),10%))}",""]),t["default"]=i},3171:function(e,t,a){var r=a(2936);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=a(4825).A;o("04afa0f0",r,!0,{sourceMap:!1,shadowMode:!1})},5100:function(e,t,a){"use strict";a.d(t,{v:function(){return o}});var r=a(4364);const o={info:(e,...t)=>r.info(`[SUSE AI] ${e}`,...t),warn:(e,...t)=>r.warn(`[SUSE AI] ${e}`,...t),error:(e,...t)=>r.error(`[SUSE AI] ${e}`,...t)}},5330:function(e,t,a){"use strict";a.r(t);var r=a(6758),o=a.n(r),s=a(935),n=a.n(s),i=n()(o());i.push([e.id,'.home-container[data-v-1d710db7]{max-width:1200px;margin:0 auto;padding:24px}.experimental-banner[data-v-1d710db7]{background:#fff3cd;border:1px solid #ffeaa7;border-radius:4px;padding:12px 16px;margin-bottom:24px;display:flex;align-items:flex-start;gap:12px;color:#856404}.banner-icon[data-v-1d710db7]{font-size:18px;flex-shrink:0}.experimental-banner strong[data-v-1d710db7]{font-weight:600;color:#856404}.experimental-banner p[data-v-1d710db7]{margin:0;font-size:14px;line-height:1.4}.experimental-banner a[data-v-1d710db7]{color:#d63384;text-decoration:underline}.experimental-banner a[data-v-1d710db7]:hover{color:#b02a5b}.step[data-v-1d710db7]{background:var(--card-bg,#fff);border:1px solid var(--border);border-radius:8px;padding:24px}.step[data-v-1d710db7],.step-header[data-v-1d710db7]{margin-bottom:24px}.step-header h2[data-v-1d710db7]{font-size:24px;font-weight:600;color:var(--body-text);margin:0 0 8px 0}.step-header p[data-v-1d710db7]{font-size:16px;color:var(--muted);line-height:1.5;margin:0 0 16px 0}.back-btn[data-v-1d710db7]{font-size:14px;padding:6px 12px;margin-top:8px}.step-content[data-v-1d710db7]{max-width:800px}.loading-section[data-v-1d710db7]{text-align:center;padding:40px 20px}.error-section[data-v-1d710db7],.no-pods-section[data-v-1d710db7]{margin-bottom:20px}.clusters-grid[data-v-1d710db7]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;margin-top:20px}.cluster-card[data-v-1d710db7]{border:1px solid var(--border);border-radius:8px;background:var(--card-bg);cursor:pointer;transition:all .2s ease;overflow:hidden}.cluster-card[data-v-1d710db7]:hover{border-color:var(--primary);box-shadow:0 2px 8px rgba(0,0,0,.1)}.cluster-card.selected[data-v-1d710db7]{border-color:var(--primary);background:var(--primary-light,rgba(0,123,255,.05))}.tile-header[data-v-1d710db7]{display:flex;align-items:flex-start;padding:16px;gap:12px}.tile-logo-container[data-v-1d710db7]{min-width:48px;height:48px;display:flex;align-items:center;justify-content:center}.tile-icon[data-v-1d710db7]{font-size:24px;color:var(--primary)}.tile-info[data-v-1d710db7]{flex:1}.tile-title[data-v-1d710db7]{margin:0 0 4px 0;font-size:16px;font-weight:600;color:var(--body-text)}.tile-description[data-v-1d710db7]{margin:0 0 8px 0;font-size:14px;color:var(--muted);line-height:1.4}.tile-meta[data-v-1d710db7]{display:flex;gap:8px;align-items:center}.badge[data-v-1d710db7]{padding:2px 6px;border-radius:10px;font-size:11px;font-weight:500;text-transform:uppercase}.badge-info[data-v-1d710db7]{background:var(--info-light,#d1ecf1);color:var(--info,#0c5460)}.tile-footer[data-v-1d710db7]{padding:16px;border-top:1px solid var(--border-light,rgba(0,0,0,.1));background:var(--accent-bg,rgba(0,123,255,.02))}.tile-actions[data-v-1d710db7]{display:flex;align-items:center;gap:8px}.radio-input[data-v-1d710db7]{position:absolute;opacity:0;cursor:pointer}.radio-label[data-v-1d710db7]{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:14px;font-weight:500;color:var(--body-text)}.radio-checkmark[data-v-1d710db7]{width:16px;height:16px;border:2px solid var(--border);border-radius:50%;position:relative;transition:all .2s ease}.radio-input:checked+.radio-label .radio-checkmark[data-v-1d710db7]{border-color:var(--primary);background:var(--primary)}.radio-input:checked+.radio-label .radio-checkmark[data-v-1d710db7]:after{content:"";position:absolute;top:2px;left:2px;width:8px;height:8px;border-radius:50%;background:#fff}.completion-message[data-v-1d710db7]{margin-bottom:24px}.completion-banner[data-v-1d710db7]{background:var(--success-light,#d4edda);border:1px solid var(--success,#28a745);border-radius:8px;padding:16px;display:flex;align-items:center;gap:12px;color:var(--success,#155724)}.completion-banner i[data-v-1d710db7]{font-size:20px;color:var(--success,#28a745)}.review-section[data-v-1d710db7]{margin-bottom:32px}.review-section h3[data-v-1d710db7]{font-size:18px;font-weight:600;color:var(--body-text);margin:0 0 16px 0;border-bottom:1px solid var(--border-light,rgba(0,0,0,.1));padding-bottom:8px}.review-item[data-v-1d710db7]{display:flex;align-items:center;gap:12px;padding:16px;background:var(--card-bg);border:1px solid var(--border);border-radius:8px}.review-icon[data-v-1d710db7]{font-size:24px;color:var(--primary);min-width:24px}.review-info strong[data-v-1d710db7]{display:block;font-size:16px;color:var(--body-text);margin-bottom:4px}.review-info p[data-v-1d710db7]{margin:0;font-size:14px;color:var(--muted)}.services-summary[data-v-1d710db7]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:12px}.service-summary-item[data-v-1d710db7]{display:flex;align-items:center;gap:12px;padding:12px;background:var(--card-bg);border:1px solid var(--border);border-radius:8px}.service-summary-item .service-icon[data-v-1d710db7]{font-size:20px;color:var(--primary);min-width:20px}.service-summary-item .service-info strong[data-v-1d710db7]{font-size:14px;color:var(--body-text)}.proxy-selection[data-v-1d710db7]{max-width:600px}.proxy-dropdown[data-v-1d710db7]{margin-bottom:24px}.proxy-dropdown label[data-v-1d710db7]{display:block;font-weight:600;margin-bottom:8px;color:var(--body-text)}.proxy-dropdown select[data-v-1d710db7]{width:100%;padding:8px 12px;border:1px solid var(--border);border-radius:4px;background:var(--body-bg);color:var(--body-text)}.proxy-details[data-v-1d710db7]{border:1px solid var(--border);border-radius:8px;padding:16px;background:var(--card-bg)}.proxy-details h4[data-v-1d710db7]{margin:0 0 16px 0;color:var(--body-text)}.detail-item[data-v-1d710db7]{margin-bottom:8px;font-size:14px}.detail-item strong[data-v-1d710db7]{color:var(--body-text)}.pod-info-section[data-v-1d710db7],.proxy-info-section[data-v-1d710db7]{margin-bottom:24px}.pods-grid[data-v-1d710db7]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;margin-top:20px}.service-selection[data-v-1d710db7]{margin-top:32px;padding-top:24px;border-top:1px solid var(--border-light,rgba(0,0,0,.1))}.service-selection-header[data-v-1d710db7]{margin-bottom:20px}.service-selection-header h3[data-v-1d710db7]{font-size:20px;font-weight:600;color:var(--body-text);margin:0 0 8px 0}.service-selection-header p[data-v-1d710db7]{font-size:14px;color:var(--muted);margin:0}.actions[data-v-1d710db7]{margin-top:24px;display:flex;justify-content:flex-end;gap:12px}.btn-primary[data-v-1d710db7]{background:var(--primary);color:#fff;border:1px solid var(--primary);border-radius:4px;padding:10px 20px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-primary[data-v-1d710db7]:hover:not(:disabled){background:var(--primary-hover,darken(var(--primary),10%))}.btn-primary[data-v-1d710db7]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[data-v-1d710db7]{background:var(--secondary-bg,#f8f9fa);color:var(--secondary-text,#495057);border:1px solid var(--border);border-radius:4px;padding:8px 16px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-secondary[data-v-1d710db7]:hover{background:var(--secondary-hover,#e9ecef)}@media (max-width:768px){.home-container[data-v-1d710db7],.step[data-v-1d710db7]{padding:16px}.pods-grid[data-v-1d710db7]{grid-template-columns:1fr}.actions[data-v-1d710db7]{flex-direction:column}.btn-primary[data-v-1d710db7],.btn-secondary[data-v-1d710db7]{width:100%}}',""]),t["default"]=i},5489:function(e,t,a){"use strict";a.r(t);var r=a(6758),o=a.n(r),s=a(935),n=a.n(s),i=n()(o());i.push([e.id,'.pod-info-card[data-v-5c01a545]{border:1px solid var(--border);border-radius:8px;background:var(--card-bg);overflow:hidden;cursor:pointer;transition:all .2s ease}.pod-info-card[data-v-5c01a545]:hover{border-color:var(--primary);box-shadow:0 2px 8px rgba(0,0,0,.1)}.pod-info-card.selected[data-v-5c01a545]{border-color:var(--primary);background:var(--primary-light,rgba(0,123,255,.05))}.card-header[data-v-5c01a545]{display:flex;align-items:center;padding:20px;background:var(--accent-bg,rgba(0,123,255,.05));border-bottom:1px solid var(--border-light,rgba(0,0,0,.1))}.pod-icon[data-v-5c01a545]{font-size:32px;color:var(--primary);margin-right:16px;min-width:32px}.pod-info[data-v-5c01a545]{flex:1}.pod-info h3[data-v-5c01a545]{margin:0 0 4px 0;font-size:20px;font-weight:600;color:var(--body-text)}.pod-info p[data-v-5c01a545]{margin:0;font-size:14px;color:var(--muted)}.pod-status[data-v-5c01a545]{margin-right:12px}.card-actions-top[data-v-5c01a545]{display:flex;align-items:center;gap:8px}.pod-status span[data-v-5c01a545]{padding:6px 12px;border-radius:12px;font-size:14px;font-weight:500}.status-success[data-v-5c01a545]{background:var(--success-light,#d4edda);color:var(--success,#28a745)}.status-warning[data-v-5c01a545]{background:var(--warning-light,#fff3cd);color:var(--warning,#856404)}.status-error[data-v-5c01a545]{background:var(--error-light,#f8d7da);color:var(--error,#dc3545)}.status-unknown[data-v-5c01a545]{background:var(--muted-bg,#f8f9fa);color:var(--muted,#6c757d)}.radio-input[data-v-5c01a545]{position:absolute;opacity:0;cursor:pointer}.radio-label[data-v-5c01a545]{display:flex;align-items:center;cursor:pointer}.radio-checkmark[data-v-5c01a545]{width:16px;height:16px;border:2px solid var(--border);border-radius:50%;position:relative;transition:all .2s ease}.radio-input:checked+.radio-label .radio-checkmark[data-v-5c01a545]{border-color:var(--primary);background:var(--primary)}.radio-input:checked+.radio-label .radio-checkmark[data-v-5c01a545]:after{content:"";position:absolute;top:2px;left:2px;width:8px;height:8px;border-radius:50%;background:#fff}.card-content[data-v-5c01a545]{padding:20px}.info-section[data-v-5c01a545]{margin-bottom:24px}.info-section h4[data-v-5c01a545]{font-size:16px;font-weight:600;color:var(--body-text);margin:0 0 12px 0;border-bottom:1px solid var(--border-light,rgba(0,0,0,.1));padding-bottom:8px}.info-section[data-v-5c01a545]:last-child{margin-bottom:0}.endpoints-info[data-v-5c01a545]{display:flex;flex-direction:column;gap:8px}.endpoint-item[data-v-5c01a545]{display:flex;justify-content:space-between;align-items:center;font-size:14px}.endpoint-item strong[data-v-5c01a545]{color:var(--muted);font-weight:500}.endpoint-item span[data-v-5c01a545]{color:var(--body-text)}.endpoint-item span[data-v-5c01a545],.endpoint-link[data-v-5c01a545]{font-family:monospace;background:var(--body-bg,#f8f9fa);padding:2px 6px;border-radius:3px;font-size:13px}.endpoint-link[data-v-5c01a545]{color:var(--primary,#007bff);text-decoration:none;transition:all .2s ease}.endpoint-link[data-v-5c01a545]:hover{color:var(--primary-hover,#0056b3);text-decoration:underline;background:var(--accent-bg,rgba(0,123,255,.1))}@media (max-width:768px){.card-header[data-v-5c01a545]{flex-direction:column;align-items:flex-start;gap:12px}.pod-status[data-v-5c01a545]{margin-left:0;align-self:flex-end}.info-grid[data-v-5c01a545]{grid-template-columns:1fr}.endpoint-item[data-v-5c01a545]{align-items:flex-start}.container-header[data-v-5c01a545],.endpoint-item[data-v-5c01a545]{flex-direction:column;gap:4px}}',""]),t["default"]=i},6778:function(e,t,a){var r=a(5489);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=a(4825).A;o("1fb3bceb",r,!0,{sourceMap:!1,shadowMode:!1})},7429:function(e,t,a){var r=a(9178);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=a(4825).A;o("308e6ff3",r,!0,{sourceMap:!1,shadowMode:!1})},7781:function(e,t,a){var r=a(5330);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=a(4825).A;o("4fe8f07e",r,!0,{sourceMap:!1,shadowMode:!1})},8038:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Ke}});var r=a(9274);const o={class:"home-container"},s={key:0,class:"completion-message"},n={key:1,class:"step proxy-discovery"},i={class:"step-content"},d={key:0,class:"loading-section"},c={key:1,class:"error-section"},l={key:2,class:"no-proxies-section"},p={key:3,class:"proxy-selection"},v={class:"proxy-dropdown"},u=["value"],m={key:0,class:"proxy-details"},g={class:"detail-item"},f={class:"detail-item"},y={class:"detail-item"},x={class:"detail-item"},h={class:"actions"},b={key:2,class:"step proxy-info"},S={class:"step-header"},E={class:"step-content"},k={key:0,class:"proxy-info-section"},w={key:1,class:"service-selection"},P={class:"actions"},N=["disabled"],V={key:3,class:"step configuration-review"},C={class:"step-content"},I={class:"review-section"},$={class:"review-item"},D={class:"review-info"},A={class:"review-section"},U={class:"services-summary"},B={class:"service-icon"},z={class:"service-info"},T={class:"actions"};function _(e,t,a,_,F,L){const j=(0,r.resolveComponent)("Loading"),M=(0,r.resolveComponent)("Banner"),R=(0,r.resolveComponent)("PodInfoCard"),q=(0,r.resolveComponent)("ServiceSelector");return(0,r.openBlock)(),(0,r.createElementBlock)("div",o,[t[25]||(t[25]=(0,r.createElementVNode)("div",{class:"experimental-banner"},[(0,r.createElementVNode)("span",{class:"banner-icon"},"!"),(0,r.createElementVNode)("strong",null,"Experimental Feature"),(0,r.createElementVNode)("p",null,[(0,r.createTextVNode)("This SUSE AI Universal Proxy feature is experimental and may not be fully compatible with all providers. "),(0,r.createElementVNode)("a",{href:"https://github.com/SUSE/suse-ai-up/issues",target:"_blank"},"Report Issue"),(0,r.createTextVNode)(" or "),(0,r.createElementVNode)("a",{href:"https://github.com/SUSE/suse-ai-up/pulls",target:"_blank"},"Submit PR"),(0,r.createTextVNode)(" to help improve compatibility.")])],-1)),e.configurationCompleted?((0,r.openBlock)(),(0,r.createElementBlock)("div",s,t[8]||(t[8]=[(0,r.createElementVNode)("div",{class:"completion-banner"},[(0,r.createElementVNode)("i",{class:"icon icon-checkmark"}),(0,r.createElementVNode)("span",null,"Configuration completed, you may now use the services")],-1)]))):(0,r.createCommentVNode)("",!0),e.selectedProxy?e.selectedProxy&&!e.configurationCompleted?((0,r.openBlock)(),(0,r.createElementBlock)("div",b,[(0,r.createElementVNode)("div",S,[(0,r.createElementVNode)("h2",null,(0,r.toDisplayString)(e.proxySaved?"Select Services":"Configure SUSE AI Universal Proxy"),1),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.proxySaved?"Choose which SUSE AI services to enable:":"Review the proxy information and configure services."),1),(0,r.createElementVNode)("button",{class:"btn-secondary back-btn",onClick:t[4]||(t[4]=(...t)=>e.resetProxySelection&&e.resetProxySelection(...t))},"â† Change Proxy")]),(0,r.createElementVNode)("div",E,[e.proxySaved?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",k,[(0,r.createVNode)(R,{pod:e.selectedProxy,onSave:e.onProxySave},null,8,["pod","onSave"])])),e.proxySaved?((0,r.openBlock)(),(0,r.createElementBlock)("div",w,[t[20]||(t[20]=(0,r.createElementVNode)("div",{class:"service-selection-header"},[(0,r.createElementVNode)("h3",null,"Select Services"),(0,r.createElementVNode)("p",null,"Choose which SUSE AI services to enable:")],-1)),(0,r.createVNode)(q,{modelValue:e.selectedServices,"onUpdate:modelValue":t[5]||(t[5]=t=>e.selectedServices=t),services:e.availableServices},null,8,["modelValue","services"]),(0,r.createElementVNode)("div",P,[(0,r.createElementVNode)("button",{class:"btn-primary",disabled:0===e.selectedServices.length,onClick:t[6]||(t[6]=(...t)=>e.onServiceSelectionComplete&&e.onServiceSelectionComplete(...t))}," Continue ",8,N)])])):(0,r.createCommentVNode)("",!0)])])):e.configurationCompleted?((0,r.openBlock)(),(0,r.createElementBlock)("div",V,[t[24]||(t[24]=(0,r.createElementVNode)("div",{class:"step-header"},[(0,r.createElementVNode)("h2",null,"Configuration Summary"),(0,r.createElementVNode)("p",null,"Review your SUSE AI Universal Proxy configuration.")],-1)),(0,r.createElementVNode)("div",C,[(0,r.createElementVNode)("div",I,[t[22]||(t[22]=(0,r.createElementVNode)("h3",null,"Selected Proxy",-1)),(0,r.createElementVNode)("div",$,[t[21]||(t[21]=(0,r.createElementVNode)("div",{class:"review-icon"},[(0,r.createElementVNode)("i",{class:"icon icon-server"})],-1)),(0,r.createElementVNode)("div",D,[(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)(e.selectedProxy?.metadata?.namespace)+"/"+(0,r.toDisplayString)(e.selectedProxy?.metadata?.name),1),(0,r.createElementVNode)("p",null,"Cluster: "+(0,r.toDisplayString)(e.getClusterName(e.selectedProxy)),1)])])]),(0,r.createElementVNode)("div",A,[t[23]||(t[23]=(0,r.createElementVNode)("h3",null,"Enabled Services",-1)),(0,r.createElementVNode)("div",U,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.selectedServices,t=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"service-summary-item"},[(0,r.createElementVNode)("div",B,[(0,r.createElementVNode)("i",{class:(0,r.normalizeClass)(e.getServiceIconClass(t))},null,2)]),(0,r.createElementVNode)("div",z,[(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)(e.getServiceName(t)),1)])]))),128))])]),(0,r.createElementVNode)("div",T,[(0,r.createElementVNode)("button",{class:"btn-secondary",onClick:t[7]||(t[7]=(...t)=>e.editConfiguration&&e.editConfiguration(...t))}," Edit Configuration ")])])])):(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",n,[t[19]||(t[19]=(0,r.createElementVNode)("div",{class:"step-header"},[(0,r.createElementVNode)("h2",null,"Discover SUSE AI Universal Proxy"),(0,r.createElementVNode)("p",null,"Select the SUSE AI Universal Proxy instance you want to configure.")],-1)),(0,r.createElementVNode)("div",i,[e.proxiesLoading?((0,r.openBlock)(),(0,r.createElementBlock)("div",d,[(0,r.createVNode)(j),t[9]||(t[9]=(0,r.createElementVNode)("p",null,"Discovering SUSE AI Universal Proxy instances across all accessible clusters...",-1))])):e.proxiesError?((0,r.openBlock)(),(0,r.createElementBlock)("div",c,[(0,r.createVNode)(M,{color:"error"},{default:(0,r.withCtx)(()=>[t[10]||(t[10]=(0,r.createElementVNode)("strong",null,"Discovery Failed",-1)),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.proxiesError),1),(0,r.createElementVNode)("button",{class:"btn btn-sm bg-primary mt-10",onClick:t[0]||(t[0]=(...t)=>e.retryProxyDiscovery&&e.retryProxyDiscovery(...t))},"Retry Discovery")]),_:1,__:[10]})])):0===e.discoveredProxies.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.createVNode)(M,{color:"warning"},{default:(0,r.withCtx)(()=>t[11]||(t[11]=[(0,r.createElementVNode)("strong",null,"No SUSE AI Universal Proxy Found",-1),(0,r.createElementVNode)("p",null,"No SUSE AI Universal Proxy instances were found in any accessible cluster. Please ensure the proxy is installed and running.",-1)])),_:1,__:[11]})])):((0,r.openBlock)(),(0,r.createElementBlock)("div",p,[(0,r.createElementVNode)("div",v,[t[13]||(t[13]=(0,r.createElementVNode)("label",{for:"proxy-select"},"Select Proxy Instance:",-1)),(0,r.withDirectives)((0,r.createElementVNode)("select",{id:"proxy-select","onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedProxyIndex=t),onChange:t[2]||(t[2]=(...t)=>e.onProxySelected&&e.onProxySelected(...t)),class:"form-control"},[t[12]||(t[12]=(0,r.createElementVNode)("option",{value:"-1",disabled:""},"Select a proxy instance...",-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.discoveredProxies,(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("option",{key:`proxy-${a}`,value:a},(0,r.toDisplayString)(e.getClusterName(t)),9,u))),128))],544),[[r.vModelSelect,e.selectedProxyIndex]])]),e.selectedProxyIndex>=0&&e.selectedProxy?((0,r.openBlock)(),(0,r.createElementBlock)("div",m,[t[18]||(t[18]=(0,r.createElementVNode)("h4",null,"Selected Proxy Details",-1)),(0,r.createElementVNode)("div",g,[t[14]||(t[14]=(0,r.createElementVNode)("strong",null,"Pod Name:",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.selectedProxy?.metadata?.name),1)]),(0,r.createElementVNode)("div",f,[t[15]||(t[15]=(0,r.createElementVNode)("strong",null,"Namespace:",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.selectedProxy?.metadata?.namespace),1)]),(0,r.createElementVNode)("div",y,[t[16]||(t[16]=(0,r.createElementVNode)("strong",null,"Cluster:",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.getClusterName(e.selectedProxy)),1)]),(0,r.createElementVNode)("div",x,[t[17]||(t[17]=(0,r.createElementVNode)("strong",null,"IP:",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.selectedProxy?.primaryIP||e.selectedProxy?.status?.podIP||"Unknown"),1)]),(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("button",{class:"btn-primary",onClick:t[3]||(t[3]=(...t)=>e.confirmProxySelection&&e.confirmProxySelection(...t))},"Configure This Proxy")])])):(0,r.createCommentVNode)("",!0)]))])]))])}var F=a(5100),L=a(5359),j=a(4364);function M(){const e=(0,L.Pj)(),t=(0,r.ref)(!1),a=(0,r.ref)([]),o=(0,r.ref)(null),s=async(e,t,a)=>{try{let o;j.log(`ðŸš€ [ServiceDiscovery] Querying SUSE AI pods across all namespaces in cluster: ${t}`),j.log(`ðŸ“¡ [ServiceDiscovery] API URL: /k8s/clusters/${t}/api/v1/pods`);try{o=await e.dispatch("rancher/request",{url:`/k8s/clusters/${t}/api/v1/pods`,method:"GET"}),j.log(`âœ… [ServiceDiscovery] Pods list API call succeeded for cluster ${t}`)}catch(r){throw j.error(`âŒ [ServiceDiscovery] Pods list API call failed for cluster ${t}:`,r),j.error("âŒ [ServiceDiscovery] Error details:",{message:r?.message,status:r?.status,statusText:r?.statusText,response:r?.response}),r}j.log("ðŸ” [ServiceDiscovery] Kubernetes pods response structure:",{hasData:!!o?.data,dataType:typeof o?.data,hasItems:!!o?.items,responseKeys:o?Object.keys(o):[],dataKeys:o?.data?Object.keys(o.data):[],fullResponse:o});const s=o?.data?.items||o?.data||o?.items||[];j.log(`ðŸ“Š [ServiceDiscovery] Extracted ${s.length} pods from response`);const n=s.filter(e=>{const t=e.metadata?.name||"",r=e.metadata?.namespace||"",o=e.spec?.containers?.some(e=>"suse-ai-up"===e.name&&e.ports?.some(e=>8911===e.containerPort)),s=!a||a.includes(r);return j.log(`ðŸ” [ServiceDiscovery] Checking pod ${t} in ${r}: container=${o}, namespaceAllowed=${s}`),o&&s});return j.log(`ðŸŽ¯ [ServiceDiscovery] Found ${n.length} SUSE AI UP pods out of ${s.length} total pods`),F.v.info(`Found ${n.length} SUSE AI UP pods in cluster ${t}`),n}catch(o){throw F.v.error("Failed to query Kubernetes pods:",o),F.v.error("Error details:",{message:o?.message,status:o?.status,statusText:o?.statusText,response:o?.response}),new Error(`Unable to query cluster pods: ${o?.message||"Unknown error"}`)}},n=async(e,t,a)=>{try{let s;j.log(`ðŸš€ [ServiceDiscovery] Querying SUSE AI UP services across all namespaces in cluster: ${t}`),j.log(`ðŸ“¡ [ServiceDiscovery] API URL: /k8s/clusters/${t}/v1/services`);try{s=await e.dispatch("rancher/request",{url:`/k8s/clusters/${t}/v1/services`,method:"GET"}),j.log(`âœ… [ServiceDiscovery] Services list API call succeeded for cluster ${t}`)}catch(r){return j.error(`âŒ [ServiceDiscovery] Services list API call failed for cluster ${t}:`,r),j.error("âŒ [ServiceDiscovery] Full error details:",{message:r?.message,status:r?.status,statusText:r?.statusText,response:r?.response,responseStatus:r?.response?.status,responseText:r?.response?.statusText,responseData:r?.response?.data}),j.warn("âš ï¸ [ServiceDiscovery] Service discovery failed, trying pod discovery as fallback"),null}const n=s?.data;if(n&&n.items){const e=n.items;j.log(`ðŸ“Š [ServiceDiscovery] Found ${e.length} total services, searching for uniproxy service`);const t=e.filter(e=>{e.metadata;const t=e.metadata?.namespace,r=e.spec?.ports?.some(e=>8911===e.port||8911===e.targetPort),o=!a||a.includes(t);return r&&o});j.log(`ðŸŽ¯ [ServiceDiscovery] Found ${t.length} SUSE AI UP services`);for(const a of t){const e=a.metadata?.name,t=a.metadata?.namespace;j.log(`ðŸ” [ServiceDiscovery] Checking service: ${t}/${e}`);const r=a.status?.loadBalancer?.ingress?.[0]?.ip,s=a.spec?.externalIPs||[],n=a.spec?.clusterIP,i=r||s[0]||n;if(!i||"None"===i){j.warn(`âš ï¸ [ServiceDiscovery] Service ${t}/${e} found but no accessible IP available`);continue}let d=!1;try{const a=await fetch(`http://${i}:8911/health`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});d=a.ok,j.log(`ðŸ¥ [ServiceDiscovery] Service health check for ${t}/${e} (${i}): ${d?"PASS":"FAIL"}`)}catch(o){j.warn(`âš ï¸ [ServiceDiscovery] Service health check failed for ${t}/${e} (${i}):`,o)}if(d)return j.log(`âœ… [ServiceDiscovery] Found healthy SUSE AI UP service: ${t}/${e} at ${i}`),a}j.log("â„¹ï¸ [ServiceDiscovery] No healthy SUSE AI UP services found")}return null}catch(s){throw F.v.error("Failed to query Kubernetes services:",s),new Error(`Unable to query cluster services: ${s?.message||"Unknown error"}`)}},i=e=>{if(e?.rancherKubernetesEngineConfig?.loadBalancerConfig?.publicAddress)return e.rancherKubernetesEngineConfig.loadBalancerConfig.publicAddress;if(e?.apiEndpoint)try{const t=new URL(e.apiEndpoint);return t.hostname}catch(t){}if(e?.status?.apiEndpoint)try{const t=new URL(e.status.apiEndpoint);return t.hostname}catch(t){}},d=(t,a)=>{const r=e.state.suseai?.settings?.serviceUrls;if(r&&r.length>0)return r[0];const o=i(a);return o?`http://${o}:8911`:t.status.podIP?`http://${t.status.podIP}:8911`:t.status.hostIP?`http://${t.status.hostIP}:8911`:"http://localhost:8911"},c=async(e,r,n)=>{t.value=!0,o.value=null;try{if(F.v.info(`Starting service discovery for cluster: ${r}`),!r)throw new Error("No cluster ID provided for service discovery");j.log(`ðŸ” [ServiceDiscovery] Starting pod discovery for cluster: ${r}`);const t=await s(e,r);if(!Array.isArray(t))throw j.error("âŒ [ServiceDiscovery] Expected pods to be an array, got:",typeof t,t),F.v.error("Expected pods to be an array, got:",typeof t,t),new Error("Invalid response format from Kubernetes API");j.log(`âœ… [ServiceDiscovery] Found ${t.length} SUSE AI UP pods across all namespaces for cluster ${r}`),F.v.info(`Found ${t.length} SUSE AI UP pods across all namespaces for cluster ${r}`);const o=t.filter(e=>{const t=e.spec?.containers?.some(e=>"suse-ai-up"===e.name&&e.ports?.some(e=>8911===e.containerPort)),a=e.metadata?.name||"",r=e.metadata?.namespace||"",o="suse-ai-up"===r;return j.log(`ðŸ” [ServiceDiscovery] Checking pod ${a} in ${r}: container=${t}, namespace=${o}`),t&&o});F.v.info(`Found ${o.length} SUSE AI UP pods in cluster ${r}`);const c=[];for(const e of o)try{const t=e.metadata?.name||"unknown",a=e.metadata?.namespace||"unknown";j.log(`ðŸ” [ServiceDiscovery] Processing pod: ${t} in ${a}`);const r=d(e,n);j.log(`âœ… [ServiceDiscovery] Constructed URL for ${t}: ${r||"none"}`);let o=!1;r&&(o=await p(r),j.log(`ðŸ¥ [ServiceDiscovery] Health check for ${t}: ${o?"PASS":"FAIL"}`)),o&&c.push({name:t,namespace:a,port:8911,type:"Pod",clusterIP:e.status?.podIP,externalIPs:e.status?.hostIP?[e.status.hostIP]:void 0,loadBalancerIPs:void 0,url:r})}catch(i){j.error(`âŒ [ServiceDiscovery] Error processing pod ${e.metadata?.name}:`,i)}return F.v.info(`Successfully detected ${c.length} services`),a.value=c,c}catch(c){return o.value=c instanceof Error?c.message:"Unknown error occurred",F.v.error("Service discovery failed:",c),[]}finally{t.value=!1}},l=async(e,a,r)=>{t.value=!0,o.value=null;try{if(F.v.info(`Starting hybrid service/pod discovery for cluster: ${a}`),!a)throw new Error("No cluster ID provided for pod discovery");j.log(`ðŸ” [ServiceDiscovery] Starting hybrid discovery for cluster: ${a}`);let t=[];try{const s=await n(e,a,r);if(s){j.log("âœ… [ServiceDiscovery] Service discovery successful, creating pod object from service");const e=s.status?.loadBalancer?.ingress?.[0]?.ip,a=s.spec?.clusterIP,r=s.spec?.externalIPs||[];let n;const d=s.metadata?.annotations?.["field.cattle.io/publicEndpoints"];if(d)try{const e=JSON.parse(d);Array.isArray(e)&&e.length>0&&(n=e[0]?.addresses?.[0]||"",j.log(`âœ… [ServiceDiscovery] Extracted primary IP from service annotations: ${n}`))}catch(i){j.warn("âš ï¸ [ServiceDiscovery] Failed to parse service public endpoints annotation:",i)}n=n||e||a||r[0];let c=!1;if(n)try{const e=await fetch(`http://${n}:8911/health`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});c=e.ok,j.log(`ðŸ¥ [ServiceDiscovery] Service health check for ${n}: ${c?"PASS":"FAIL"}`)}catch(o){j.warn(`âš ï¸ [ServiceDiscovery] Service health check failed for ${n}:`,o)}if(c){const e={metadata:{name:s.metadata?.name||"uniproxy",namespace:s.metadata?.namespace||"suse-ai-up",annotations:s.metadata?.annotations},spec:{containers:[{ports:[{containerPort:8911,protocol:"TCP"}]}]},status:{podIP:a,phase:"Running"},primaryIP:n,clusterIP:a,externalIPs:r.length>0?r:n?[n]:void 0};t.push(e),j.log("âœ… [ServiceDiscovery] Successfully created pod object from service")}}}catch(d){j.warn("âš ï¸ [ServiceDiscovery] Service discovery failed, falling back to pod discovery:",d?.message)}if(0===t.length){j.log("ðŸ”„ [ServiceDiscovery] Service discovery found nothing, trying pod discovery");const o=await s(e,a,r);if(!Array.isArray(o))throw j.error("âŒ [ServiceDiscovery] Expected pods to be an array, got:",typeof o,o),F.v.error("Expected pods to be an array, got:",typeof o,o),new Error("Invalid response format from Kubernetes API");const n=o;F.v.info(`Processing ${n.length} SUSE AI UP pods in cluster ${a}`);for(const e of n)try{const a=e.metadata?.name||"unknown",r=e.metadata?.namespace||"unknown";let o,s,n;j.log(`ðŸ” [ServiceDiscovery] Processing pod: ${a} in ${r}`);const i=e.metadata?.annotations||{},d=i["field.cattle.io/publicEndpoints"];if(d)try{const e=JSON.parse(d);Array.isArray(e)&&e.length>0&&(o=e[0].addresses?.[0]||e[0].address,j.log(`âœ… [ServiceDiscovery] Extracted primary IP from annotations: ${o}`))}catch(c){j.warn("âš ï¸ [ServiceDiscovery] Failed to parse publicEndpoints annotation:",c)}o||(o=e.status?.podIP,j.log(`ðŸ“ [ServiceDiscovery] Using pod IP as primary IP: ${o}`)),s=e.status?.podIP,e.status?.hostIP&&(n=[e.status.hostIP]);const l={...e,primaryIP:o,clusterIP:s,externalIPs:n};t.push(l),j.log(`âœ… [ServiceDiscovery] Added pod ${a} with primaryIP: ${o}`)}catch(l){j.error(`âŒ [ServiceDiscovery] Error processing pod ${e.metadata?.name}:`,l)}}return F.v.info(`Successfully detected ${t.length} pod objects`),t}catch(p){return o.value=p instanceof Error?p.message:"Unknown error occurred",F.v.error("Pod object discovery failed:",p),[]}finally{t.value=!1}},p=async e=>{try{const t=e.endsWith("/")?`${e}health`:`${e}/health`;j.log(`ðŸ” [ServiceDiscovery] Checking health at: ${t}`);const a=new AbortController,r=setTimeout(()=>a.abort(),5e3),o=await fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},signal:a.signal});return clearTimeout(r),j.log("âœ… [ServiceDiscovery] Health check response:",o),!0}catch(o){return j.warn(`âš ï¸ [ServiceDiscovery] Health check failed for ${e}:`,o),!1}},v=async e=>{if(e){const t=`http://${e}:8911`;j.log(`ðŸ” [ServiceDiscovery] Trying loadbalancer IP: ${t}`);const a=await p(t);if(a)return{healthy:!0,url:t};j.log(`âš ï¸ [ServiceDiscovery] Loadbalancer IP ${e} failed, trying localhost`)}const t="http://localhost:8911";j.log(`ðŸ” [ServiceDiscovery] Trying localhost: ${t}`);const a=await p(t);return{healthy:a,url:t}},u=(0,r.computed)(()=>a.value.length>0),m=(0,r.computed)(()=>{if(!u.value)return null;const e=a.value.find(e=>e.clusterIP&&"None"!==e.clusterIP);if(e)return e;const t=a.value.find(e=>"LoadBalancer"===e.type);if(t)return t;const r=a.value.find(e=>e.url);return r||a.value[0]});return{isLoading:(0,r.readonly)(t),detectedServices:(0,r.readonly)(a),error:(0,r.readonly)(o),discoverPods:c,discoverPodObjects:l,hasDetectedServices:u,getPrimaryService:m,checkServiceHealthWithFallback:v}}const R={class:"card-header"},q={class:"pod-info"},K={class:"pod-status"},O={class:"card-details"},H={class:"detail-row"},G={class:"detail-row"},J={class:"detail-row"},Q={class:"detail-row"},W={key:0},X={key:1};function Y(e,t,a,o,s,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"pod-card",onClick:t[0]||(t[0]=(...t)=>e.onSelect&&e.onSelect(...t))},[(0,r.createElementVNode)("div",R,[t[2]||(t[2]=(0,r.createElementVNode)("div",{class:"pod-icon"},[(0,r.createElementVNode)("i",{class:"icon icon-server"})],-1)),(0,r.createElementVNode)("div",q,[t[1]||(t[1]=(0,r.createElementVNode)("h4",null,"SUSE AI Universal Proxy",-1)),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.pod.metadata.namespace),1)]),(0,r.createElementVNode)("div",K,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(e.getStatusClass(e.pod.status))},(0,r.toDisplayString)(e.getStatusText(e.pod.status)),3)])]),(0,r.createElementVNode)("div",O,[(0,r.createElementVNode)("div",H,[t[3]||(t[3]=(0,r.createElementVNode)("strong",null,"Phase:",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.pod.status?.phase||"Unknown"),1)]),(0,r.createElementVNode)("div",G,[t[4]||(t[4]=(0,r.createElementVNode)("strong",null,"IP:",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.pod.status?.podIP||"N/A"),1)]),(0,r.createElementVNode)("div",J,[t[5]||(t[5]=(0,r.createElementVNode)("strong",null,"Containers:",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.pod.spec?.containers?.length||0),1)]),(0,r.createElementVNode)("div",Q,[t[6]||(t[6]=(0,r.createElementVNode)("strong",null,"Ports:",-1)),e.pod.spec?.containers?((0,r.openBlock)(),(0,r.createElementBlock)("span",W,(0,r.toDisplayString)(e.getContainerPorts(e.pod.spec.containers)),1)):((0,r.openBlock)(),(0,r.createElementBlock)("span",X,"N/A"))])]),t[7]||(t[7]=(0,r.createElementVNode)("div",{class:"card-actions"},[(0,r.createElementVNode)("button",{class:"btn-primary"},"Select This Pod")],-1))])}var Z=(0,r.defineComponent)({name:"PodCard",props:{pod:{type:Object,required:!0}},emits:["select"],methods:{onSelect(){this.$emit("select",this.pod)},getStatusClass(e){const t=e?.phase?.toLowerCase();switch(t){case"running":return"status-success";case"pending":return"status-warning";case"failed":case"error":return"status-error";default:return"status-unknown"}},getStatusText(e){const t=e?.phase;return t||"Unknown"},getContainerPorts(e){const t=new Set;return e.forEach(e=>{e.ports&&e.ports.forEach(e=>{e.containerPort&&t.add(e.containerPort)})}),Array.from(t).join(", ")||"None"}}}),ee=(a(3171),a(7433));const te=(0,ee.A)(Z,[["render",Y],["__scopeId","data-v-a135103e"]]);var ae=te;const re={class:"card-header"},oe={class:"pod-info"},se={class:"card-actions-top"},ne={class:"pod-status"},ie={class:"selection-indicator"},de=["id","checked"],ce=["for"],le={class:"card-content"},pe={class:"info-section"},ve={class:"endpoints-info"},ue={class:"endpoint-item"},me={class:"endpoint-item"},ge={class:"endpoint-item"},fe=["href"],ye={class:"endpoint-item"},xe={key:0,class:"endpoint-item"};function he(e,t,a,o,s,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["pod-info-card",{selected:e.isSelected}]),onClick:t[0]||(t[0]=(...t)=>e.onCardClick&&e.onCardClick(...t))},[(0,r.createElementVNode)("div",re,[t[2]||(t[2]=(0,r.createElementVNode)("div",{class:"pod-icon"},[(0,r.createElementVNode)("i",{class:"icon icon-server"})],-1)),(0,r.createElementVNode)("div",oe,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.pod.metadata.name),1),(0,r.createElementVNode)("p",null,"Namespace: "+(0,r.toDisplayString)(e.pod.metadata.namespace),1)]),(0,r.createElementVNode)("div",se,[(0,r.createElementVNode)("div",ne,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(e.getStatusClass(e.pod.status))},(0,r.toDisplayString)(e.getStatusText(e.pod.status)),3)]),(0,r.createElementVNode)("div",ie,[(0,r.createElementVNode)("input",{type:"radio",id:`pod-${e.pod.metadata.name}`,checked:e.isSelected,class:"radio-input",readonly:""},null,8,de),(0,r.createElementVNode)("label",{for:`pod-${e.pod.metadata.name}`,class:"radio-label"},t[1]||(t[1]=[(0,r.createElementVNode)("span",{class:"radio-checkmark"},null,-1)]),8,ce)])])]),(0,r.createElementVNode)("div",le,[(0,r.createElementVNode)("div",pe,[t[8]||(t[8]=(0,r.createElementVNode)("h4",null,"Service Endpoints",-1)),(0,r.createElementVNode)("div",ve,[(0,r.createElementVNode)("div",ue,[t[3]||(t[3]=(0,r.createElementVNode)("strong",null,"Primary Endpoint:",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.getPrimaryEndpoint()),1)]),(0,r.createElementVNode)("div",me,[t[4]||(t[4]=(0,r.createElementVNode)("strong",null,"Health Check:",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.getHealthCheckEndpoint()),1)]),(0,r.createElementVNode)("div",ge,[t[5]||(t[5]=(0,r.createElementVNode)("strong",null,"API Documentation:",-1)),(0,r.createElementVNode)("a",{href:e.getApiDocsUrl(),target:"_blank",class:"endpoint-link"},(0,r.toDisplayString)(e.getApiDocsDisplay()),9,fe)]),(0,r.createElementVNode)("div",ye,[t[6]||(t[6]=(0,r.createElementVNode)("strong",null,"Cluster IP:",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.pod.clusterIP||"N/A"),1)]),e.pod.externalIPs?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",xe,[t[7]||(t[7]=(0,r.createElementVNode)("strong",null,"External IPs:",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.pod.externalIPs.join(", ")),1)])):(0,r.createCommentVNode)("",!0)])])])],2)}var be=(0,r.defineComponent)({name:"PodInfoCard",props:{pod:{type:Object,required:!0}},emits:["save"],data(){return{isSelected:!1}},methods:{onCardClick(){this.isSelected||(this.isSelected=!0,this.$emit("save"))},getStatusClass(e){const t=e?.phase?.toLowerCase();switch(t){case"running":return"status-success";case"pending":return"status-warning";case"failed":case"error":return"status-error";default:return"status-unknown"}},getStatusText(e){const t=e?.phase;return t||"Unknown"},getPrimaryEndpoint(){const e=this.pod.externalIPs?.[0],t=this.pod.primaryIP||this.pod.clusterIP,a=e||t;return a?`http://${a}:8911`:"N/A"},getHealthCheckEndpoint(){const e=this.pod.externalIPs?.[0],t=this.pod.primaryIP||this.pod.clusterIP,a=e||t;return a?`http://${a}:8911/health`:"N/A"},getApiDocsUrl(){const e=this.pod.externalIPs?.[0],t=this.pod.primaryIP||this.pod.clusterIP,a=e||t;return a?`http://${a}:8911/docs/index.html`:"#"},getApiDocsDisplay(){const e=this.pod.externalIPs?.[0],t=this.pod.primaryIP||this.pod.clusterIP,a=e||t;return a?`http://${a}:8911/docs`:"N/A"}}});a(6778);const Se=(0,ee.A)(be,[["render",he],["__scopeId","data-v-5c01a545"]]);var Ee=Se;const ke={class:"service-selector"},we={class:"services-grid"},Pe=["onClick"],Ne={class:"card-header"},Ve={class:"service-icon"},Ce={class:"service-info"},Ie={class:"selection-indicator"},$e=["id","checked"],De=["for"],Ae={key:0,class:"no-selection"};function Ue(e,t,a,o,s,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",ke,[(0,r.createElementVNode)("div",we,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.services,a=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:a.id,class:(0,r.normalizeClass)(["service-card",{selected:e.isSelected(a.id)}]),onClick:t=>e.toggleService(a.id)},[(0,r.createElementVNode)("div",Ne,[(0,r.createElementVNode)("div",Ve,[(0,r.createElementVNode)("i",{class:(0,r.normalizeClass)(a.iconClass)},null,2)]),(0,r.createElementVNode)("div",Ce,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)(a.name),1),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(a.description),1)]),(0,r.createElementVNode)("div",Ie,[(0,r.createElementVNode)("input",{type:"radio",id:`service-${a.id}`,checked:e.isSelected(a.id),class:"radio-input",readonly:""},null,8,$e),(0,r.createElementVNode)("label",{for:`service-${a.id}`,class:"radio-label"},t[0]||(t[0]=[(0,r.createElementVNode)("span",{class:"radio-checkmark"},null,-1)]),8,De)])])],10,Pe))),128))]),0===e.selectedServices.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ae,t[1]||(t[1]=[(0,r.createElementVNode)("p",null,"Please select at least one service to continue.",-1)]))):(0,r.createCommentVNode)("",!0)])}var Be=(0,r.defineComponent)({name:"ServiceSelector",props:{modelValue:{type:Array,default:()=>[]},services:{type:Array,default:()=>[]}},emits:["update:modelValue"],computed:{selectedServices:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{isSelected(e){return this.selectedServices.includes(e)},toggleService(e){const t=this.selectedServices.indexOf(e);this.selectedServices=t>-1?this.selectedServices.filter(t=>t!==e):[...this.selectedServices,e]},getServiceName(e){const t=this.services.find(t=>t.id===e);return t?t.name:e}}});a(7429);const ze=(0,ee.A)(Be,[["render",Ue],["__scopeId","data-v-65f63bff"]]);var Te=ze,_e=a(9028),Fe=a(3446),Le=a(4364);async function je(e){try{const t=await e.dispatch("rancher/request",{url:"/v3/clusters",method:"GET"}),a=t?.data||t||[];return Array.isArray(a)?a:[]}catch(t){throw Le.error("Failed to fetch clusters:",t),new Error(`Failed to fetch clusters: ${t?.message||"Unknown error"}`)}}var Me=a(4364),Re=(0,r.defineComponent)({name:"Home",components:{PodCard:ae,PodInfoCard:Ee,ServiceSelector:Te,Banner:_e.l,Loading:Fe.A},setup(){const{discoverPodObjects:e}=M(),t=(0,L.Pj)(),a=(0,r.ref)(null),o=(0,r.ref)(-1),s=(0,r.ref)([]),n=(0,r.ref)(!0),i=(0,r.ref)(""),d=(0,r.ref)(!1),c=(0,r.ref)([]),l=(0,r.ref)(!1),p=(0,r.ref)(""),v=(0,r.ref)(""),u=(0,r.ref)(null),m=(0,r.ref)([]),g=(0,r.ref)(!1),f=(0,r.ref)(""),y=(0,r.ref)(!1),x=(0,r.ref)(!0),h=(0,r.ref)(""),b=(0,r.ref)([]),S=(0,r.ref)([]),E=(0,r.ref)([]),k=(0,r.ref)(0),w=3e5,P=[{id:"mcp-gateway",name:"MCP Gateway",description:"Model Context Protocol gateway for AI interactions and server management.",iconClass:"icon icon-server"},{id:"mcp-registry",name:"MCP Registry",description:"Registry for managing MCP connections and installations.",iconClass:"icon icon-list"},{id:"virtual-mcp",name:"Virtual MCP",description:"Virtual Model Context Protocol servers for enhanced AI interactions.",iconClass:"icon icon-server"},{id:"smart-agents",name:"SmartAgents",description:"Intelligent agents for automated tasks and workflows.",iconClass:"icon icon-user"}],N=(0,r.computed)(()=>t.getters.selectedServices),V=(0,r.computed)(()=>t.getters["suseai/proxyConfig"]||{}),C=async()=>{x.value=!0,n.value=!0,h.value="",i.value="";try{const a=Date.now();if(E.value.length>0&&a<k.value)Me.log("Using cached cluster data"),S.value=E.value;else{Me.log("Discovering all clusters...");const e=await je(t);S.value=e||[],E.value=S.value,k.value=a+w}Me.log(`Found ${S.value.length} clusters, checking for SUSE AI pods...`);const r=3,o=[];for(let s=0;s<S.value.length;s+=r){const a=S.value.slice(s,s+r),n=a.map(async a=>{try{Me.log(`Checking cluster: ${a.name||a.id}`);const r=await e(t,a.id,V.value.allowedNamespaces);return r.length>0?(Me.log(`âœ… Found ${r.length} pods in cluster ${a.name||a.id}`),{...a,pods:r,podsCount:r.length}):(Me.log(`âš ï¸ No SUSE AI pods found in cluster ${a.name||a.id}`),null)}catch(r){return Me.warn(`Failed to check cluster ${a.name||a.id}:`,r),v.value===a.id&&(f.value=`Failed to discover pods in cluster ${a.name||a.id}: ${r?.message||"Unknown error"}`),null}}),i=await Promise.allSettled(n);i.forEach(e=>{"fulfilled"===e.status&&e.value?o.push(e.value):"rejected"===e.status&&Me.error("Cluster check failed:",e.reason)})}b.value=o,Me.log(`âœ… Discovery complete: ${b.value.length} clusters with SUSE AI pods`);const n=[];o.forEach(e=>{e.pods&&n.push(...e.pods)}),s.value=n,Me.log(`âœ… Collected ${n.length} proxies across all clusters`)}catch(a){Me.error("Cluster discovery failed:",a),h.value=a.message||"Failed to discover clusters",b.value=[]}finally{x.value=!1,n.value=!1,Me.log("âœ… Discovery process complete, proxiesLoading set to false")}},I=e=>{if(!e)return;const t=b.value.find(t=>t.id===e);t?t.pods&&0!==t.pods.length?(v.value=e,m.value=t.pods,f.value="",u.value=t.pods[0],Me.log(`Selected cluster ${e} and auto-selected pod`)):f.value="No SUSE AI Universal Proxy pods found in the selected cluster":f.value="Selected cluster not found"},$=()=>{o.value>=0&&(a.value=s.value[o.value],Me.log("Selected proxy:",a.value))},D=()=>{a.value&&(d.value=!0,c.value=[...N.value||[]],Me.log("Proxy confirmed, showing service selection"))},A=e=>{if(!e)return"Unknown";const t=b.value.find(t=>t.pods?.some(t=>t.metadata?.name===e.metadata?.name&&t.metadata?.namespace===e.metadata?.namespace));return t?t.name:"Unknown"},U=e=>{if(!e)return"";const t=b.value.find(t=>t.pods?.some(t=>t.metadata?.name===e.metadata?.name&&t.metadata?.namespace===e.metadata?.namespace));return t?t.id:""},B=e=>{u.value=e,Me.log("Selected pod:",e)},z=async()=>{try{await C()}catch(e){Me.error("Retry cluster discovery failed:",e)}},T=()=>{d.value=!0,c.value=[...N.value||[]],Me.log("Proxy saved, showing service selection")},_=()=>{y.value=!0,c.value=[...N.value||[]],Me.log("Pod saved, showing service selection")},F=()=>{if(0===c.value.length)return void Me.warn("No services selected");const e=a.value.externalIPs?.[0],t=a.value.primaryIP||a.value.clusterIP,r=e||t;p.value=`http://${r}:8911`,localStorage.setItem("suseai-service-url",p.value),j()},j=async()=>{try{await t.dispatch("suseai/setSelectedServices",c.value),await t.dispatch("suseai/setSelectedCluster",v.value),await t.dispatch("suseai/setSelectedPod",u.value),await t.dispatch("suseai/setProxyInstalled",!0),await t.dispatch("suseai/setServiceUrls",[p.value]),localStorage.setItem("suseai-service-url",p.value);const e={selectedServer:{clusterId:U(a.value),namespace:a.value.metadata?.namespace,podName:a.value.metadata?.name,serviceUrl:p.value}};await t.dispatch("suseai/setProxyConfig",e),Me.log("Configuration saved:",{proxy:a.value,services:c.value,serviceUrl:p.value,proxyConfig:e}),l.value=!0}catch(e){Me.error("Failed to save configuration:",e)}},R=()=>{l.value=!1,G()},q=()=>{const e=b.value.find(e=>e.id===v.value);return e?e.name:v.value},K=e=>{const t=P.find(t=>t.id===e);return t?t.name:e},O=e=>{const t=P.find(t=>t.id===e);return t?t.iconClass:"icon icon-server"},H=()=>{v.value="",u.value=null,m.value=[],f.value="",y.value=!1,c.value=[],l.value=!1},G=()=>{a.value=null,o.value=-1,d.value=!1,c.value=[],l.value=!1},J=()=>{u.value=null,y.value=!1,c.value=[]},Q=async()=>{try{i.value="",await C()}catch(e){Me.error("Proxy discovery retry failed:",e),i.value=`Failed to discover proxies: ${e?.message||"Unknown error"}`}},W=async()=>{try{f.value="";const a=b.value.find(e=>e.id===v.value);if(a){const r=await e(t,v.value,V.value.allowedNamespaces);r.length>0?(a.pods=r,a.podsCount=r.length,m.value=r,u.value=r[0],f.value=""):f.value="No SUSE AI Universal Proxy pods found in the selected cluster"}else f.value="Selected cluster not found"}catch(a){Me.error("Pod discovery retry failed:",a),f.value=`Failed to discover pods: ${a?.message||"Unknown error"}`}};return C(),{selectedCluster:v,selectedPod:u,selectedProxy:a,selectedProxyIndex:o,discoveredPods:m,discoveredProxies:s,podsLoading:g,proxiesLoading:n,podsError:f,proxiesError:i,podSaved:y,proxySaved:d,selectedServices:c,availableServices:P,configurationCompleted:l,serviceUrl:p,clustersLoading:x,clustersError:h,availableClusters:b,onClusterSelected:I,onProxySelected:$,confirmProxySelection:D,onPodSelected:B,onProxySave:T,onPodSave:_,onServiceSelectionComplete:F,handleLoginSuccess:j,resetClusterSelection:H,resetProxySelection:G,resetPodSelection:J,retryPodDiscovery:W,retryProxyDiscovery:Q,retryClusterDiscovery:z,editConfiguration:R,getSelectedClusterName:q,getClusterName:A,getClusterId:U,getServiceName:K,getServiceIconClass:O}}});a(7781);const qe=(0,ee.A)(Re,[["render",_],["__scopeId","data-v-1d710db7"]]);var Ke=qe},9178:function(e,t,a){"use strict";a.r(t);var r=a(6758),o=a.n(r),s=a(935),n=a.n(s),i=n()(o());i.push([e.id,'.service-selector[data-v-65f63bff]{width:100%}.services-grid[data-v-65f63bff]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;margin-bottom:24px}.service-card[data-v-65f63bff]{border:1px solid var(--border);border-radius:8px;background:var(--card-bg);cursor:pointer;transition:all .2s ease;overflow:hidden}.service-card[data-v-65f63bff]:hover{border-color:var(--primary);box-shadow:0 2px 8px rgba(0,0,0,.1)}.service-card.selected[data-v-65f63bff]{border-color:var(--primary);background:var(--primary-light,rgba(0,123,255,.05))}.card-header[data-v-65f63bff]{display:flex;align-items:flex-start;padding:16px;gap:12px;position:relative}.selection-indicator[data-v-65f63bff]{position:absolute;top:16px;right:16px}.radio-input[data-v-65f63bff]{position:absolute;opacity:0;cursor:pointer}.radio-label[data-v-65f63bff]{display:flex;align-items:center;cursor:pointer}.radio-checkmark[data-v-65f63bff]{width:16px;height:16px;border:2px solid var(--border);border-radius:50%;position:relative;transition:all .2s ease}.radio-input:checked+.radio-label .radio-checkmark[data-v-65f63bff]{border-color:var(--primary);background:var(--primary)}.radio-input:checked+.radio-label .radio-checkmark[data-v-65f63bff]:after{content:"";position:absolute;top:2px;left:2px;width:8px;height:8px;border-radius:50%;background:#fff}.service-icon[data-v-65f63bff]{font-size:24px;color:var(--primary);min-width:24px;margin-top:2px}.service-info[data-v-65f63bff]{flex:1}.service-info h4[data-v-65f63bff]{margin:0 0 6px 0;font-size:16px;font-weight:600;color:var(--body-text)}.service-info p[data-v-65f63bff]{margin:0;font-size:14px;color:var(--muted);line-height:1.4}.card-actions[data-v-65f63bff]{padding:16px;text-align:center;border-top:1px solid var(--border-light,rgba(0,0,0,.1))}.btn-secondary[data-v-65f63bff]{background:var(--secondary-bg,#6c757d);color:#fff;border:1px solid var(--secondary-bg,#6c757d);border-radius:4px;padding:8px 16px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-secondary[data-v-65f63bff]:hover{background:var(--secondary-hover,#5a6268)}.no-selection[data-v-65f63bff]{text-align:center;padding:20px;color:var(--muted);font-style:italic}@media (max-width:768px){.services-grid[data-v-65f63bff]{grid-template-columns:1fr}.card-header[data-v-65f63bff]{flex-direction:column;gap:8px}.selection-indicator[data-v-65f63bff]{margin-left:0;align-self:flex-end}}',""]),t["default"]=i}}]);
//# sourceMappingURL=suseai-rancher-ext-0.1.0.umd.min.38.js.map